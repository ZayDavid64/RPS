<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <h1>Welcome to Rock, Paper, Scissors</h1>
    <p>Its you verses the computer. Can you outsmart your own CPU?</p>
    <div>
        <h3 id="playerText">Player:</h3>
        <h3 id="cpuText">CPU:</h3>
        <h3 id="resultText">Result:</h3>
    </div>

    <button id="rock" type="button">Rock</button>
    <button id="paper" type="button">Paper</button>
    <button id="scissors" type="button">Scissors</button>

    <div>
        <p id="player"></p>
        <p id="cpu"></p>
    </div>
    <script>
        let playerText= document.querySelector("#playerText")
        let cpuText= document.querySelector("#cpuText")
        let returnext= document.querySelector("#returnext")
        let playerPoints= document.querySelector("#player");
        let cpuPoints= document.querySelector("#cpu");
        let computerSelection;
        let playerSelection;
        let result;
        const choiceBtn= document.querySelectorAll("button");
        let playerScore= parseInt(0);
        let computerScore= parseInt(0);
        

        
        choiceBtn.forEach(button => button.addEventListener("click", () => {
            playerSelection= button.textContent;
            getComputerChoice();
            playerText.textContent= `Player: ${playerSelection}`;
            cpuText.textContent= `CPU: ${computerSelection}`;
            resultText.textContent= `Result: ${playRound(playerSelection, computerSelection)}`;
            console.log(playRound(playerSelection, computerSelection));
            playGame()
}
        ))

        function getComputerChoice(){
            const randomNumber= Math.floor(Math.random()* 3);

                if(randomNumber== 0){
                    computerSelection= "Rock"
                }
                else if(randomNumber== 1){
                    computerSelection= "Paper"
                }
                else if(randomNumber== 2){
                    computerSelection= "Scissors"
                }

            }
        
        function playRound(playerSelection, computerSelection){

            const win= "You Win!"; 
            const lose="Sorry, You Lost! " + computerSelection + " Beats " + playerSelection; 
            const tie= "Its a tie";

            if(playerSelection=="Rock"){
                if(computerSelection=="Paper"){
                    computerScore++;
                    return lose;
                    
                }
                else if(computerSelection=="Scissors"){
                    playerScore++;
                    return win;
                    
                  
                }
                else{
                    return tie;
                }
            }
            else if(playerSelection=="Paper"){
                if(computerSelection=="Rock"){
                    playerScore++;
                    return win;
                    
                }
                else if(computerSelection=="Scissors"){
                    computerScore++;
                    return lose;
                   
                }
                else{
                    return tie;
                }
            }
            else if(playerSelection=="Scissors"){
                if(computerSelection=="Rock"){
                    computerScore++;
                    return lose;
                   
                }
                else if(computerSelection=="Paper"){
                    playerScore++;
                    return win;
                
                }
                else{
                    return tie;
                }
                
    }}
    function playGame(){
        output.textContent = "Choose Rock, Paper, or Scissors";
        playRound();
        player.textContent = `Player Score: ${playerScore}`;
        computer.textContent = `Computer Score: ${compScore}`;
        if (playerScore == 10){
            output.textContent = "You Won the Game! Congrats";
            playerScore = 0;
            compScore = 0;
            player.textContent = `Player Score: ${playerScore}`;
            computer.textContent = `Computer Score: ${compScore}`;
        }
        else if (computerScore == 5){
            output.textContent = "You Lost the game:/ Maybe find something else to do?"
            playerScore = 0;
            compScore = 0;
            player.textContent = `Player Score: ${playerScore}`;
            computer.textContent = `Computer Score: ${compScore}`;
        }
}

console.log(choiceBtn)
console.log(playerSelection)
console.log(computerSelection)
console.log(playRound(playerSelection, computerSelection));

    </script>
</body>
</html>